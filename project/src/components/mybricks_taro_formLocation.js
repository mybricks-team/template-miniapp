!function(e,r){"object"==typeof exports&&"object"==typeof module?module.exports=r(require("@taroify/icons"),require("@tarojs/taro"),require("brickd-mobile/es/area-picker"),require("brickd-mobile/es/field"),require("brickd-mobile/es/input"),require("brickd-mobile/es/popup"),require("react")):"function"==typeof define&&define.amd?define(["@taroify/icons","@tarojs/taro","brickd-mobile/es/area-picker","brickd-mobile/es/field","brickd-mobile/es/input","brickd-mobile/es/popup","react"],r):"object"==typeof exports?exports.fangzhouComDef=r(require("@taroify/icons"),require("@tarojs/taro"),require("brickd-mobile/es/area-picker"),require("brickd-mobile/es/field"),require("brickd-mobile/es/input"),require("brickd-mobile/es/popup"),require("react")):e.fangzhouComDef=r(e["@taroify/icons"],e["@tarojs/taro"],e["brickd-mobile/es/area-picker"],e["brickd-mobile/es/field"],e["brickd-mobile/es/input"],e["brickd-mobile/es/popup"],e.React)}(self,((e,r,t,o,i,n,a)=>(()=>{"use strict";var l={7234:(e,r,t)=>{function o(e){return(r="Object",function(e){return Object.prototype.toString.call(e)==="[object ".concat(r,"]")})(e);var r}t.d(r,{Kn:()=>o})},447:(e,r,t)=>{function o(e){var r;return!(!(null==e?void 0:e.edit)&&!(null===(r=null==e?void 0:e.runtime)||void 0===r?void 0:r.debug))}t.d(r,{l:()=>o})},2010:(e,r,t)=>{t.r(r)},8023:(e,r,t)=>{t(9664)},7977:(e,r,t)=>{t(3282),t(8018),t(8434)},4556:(e,r,t)=>{t(3282),t(3637)},7223:(e,r,t)=>{t(2461)},2461:(e,r,t)=>{t(3282),t(4556),t(2606),t(3767)},2606:(e,r,t)=>{t(8150)},7151:(e,r,t)=>{t(3282),t(7)},9664:(e,r,t)=>{t(3282),t(7151),t(8531)},7278:(e,r,t)=>{t(3282),t(8018),t(7977),t(3685)},3282:(e,r,t)=>{t(2010),t(5755)},8018:(e,r,t)=>{t(3282),t(5980)},8434:(e,r,t)=>{t.r(r)},3637:(e,r,t)=>{t.r(r)},3767:(e,r,t)=>{t.r(r)},8150:(e,r,t)=>{t.r(r)},7:(e,r,t)=>{t.r(r)},8531:(e,r,t)=>{t.r(r)},3685:(e,r,t)=>{t.r(r)},5755:(e,r,t)=>{t.r(r)},5980:(e,r,t)=>{t.r(r)},7106:r=>{r.exports=e},6801:e=>{e.exports=r},5790:e=>{e.exports=t},2973:e=>{e.exports=o},5402:e=>{e.exports=i},4529:e=>{e.exports=n},359:e=>{e.exports=a}},u={};function c(e){var r=u[e];if(void 0!==r)return r.exports;var t=u[e]={exports:{}};return l[e](t,t.exports,c),t.exports}c.n=e=>{var r=e&&e.__esModule?()=>e.default:()=>e;return c.d(r,{a:r}),r},c.d=(e,r)=>{for(var t in r)c.o(r,t)&&!c.o(e,t)&&Object.defineProperty(e,t,{enumerable:!0,get:r[t]})},c.o=(e,r)=>Object.prototype.hasOwnProperty.call(e,r),c.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var s={};return(()=>{c.r(s),c.d(s,{default:()=>f}),c(8023);var e=c(5790),r=c.n(e),t=(c(7278),c(4529)),o=c.n(t),i=(c(2606),c(5402)),n=c.n(i),a=(c(7223),c(2973)),l=c.n(a),u=c(359),d=c.n(u),p=c(7106),b=c(7234),v=c(6801),m=c(447);function f(e){var t=e.env,i=e.data,a=e.inputs,c=e.outputs,s=(e.slots,(0,u.useState)([])),f=s[0],y=s[1],k=(0,u.useState)(!1),h=k[0],g=k[1],j=(0,u.useState)({province_list:[],city_list:[],county_list:[]}),x=j[0],C=j[1];(0,u.useEffect)((function(){var e,r,o,n,l,u,c=v.getApp(),s=(0,m.l)(t)?"/mybricks-app-mpsite/api/mock/areaData":"".concat(null===(r=null===(e=null==c?void 0:c.mybricks)||void 0===e?void 0:e.status)||void 0===r?void 0:r.callServiceHost,"/runtime/api/domain/service/run");v.request({url:s,method:"POST",data:{projectId:null===(n=null===(o=null==c?void 0:c.mybricks)||void 0===o?void 0:o.status)||void 0===n?void 0:n.appid,fileId:null===(u=null===(l=null==c?void 0:c.mybricks)||void 0===l?void 0:l.status)||void 0===u?void 0:u.appid,serviceId:"areaData"},success:function(e){C(e.data.data)}}),a.setValue((function(e){switch(!0){case"string"==typeof e:i.value=e;break;case(0,b.Kn)(e):i.value=e[i.name]}})),a.changeType((function(e){i.type=e}))}),[]);var q=(0,u.useCallback)((function(e){return(e=e||"").split("/").map((function(e,r){var t={};switch(r){case 0:t=x.province_list;break;case 1:t=x.city_list;break;case 2:t=x.county_list}return Object.keys(t).forEach((function(r){if(t[r]===e)return r})),""})).filter((function(e){return!!e}))}),[x]),E=(0,u.useCallback)((function(e){for(var r=[],t=0;t<e.length;t++)switch(t){case 0:r.push(x.province_list[e[t]]);break;case 1:r.push(x.city_list[e[t]]);break;case 2:r.push(x.county_list[e[t]])}return r.join("/")}),[x]),_=(0,u.useCallback)((function(){if(t.runtime&&"select"===i.type){var e=q(i.value);y(e),g(!0)}}),[t.runtime,i.value,i.type,q]),S=(0,u.useCallback)((function(){g(!1)}),[]),O=(0,u.useCallback)((function(e){i.value=E(e),console.error(i.value),g(!1),c.onChange({name:i.name,value:i.value})}),[E]),w=(0,u.useCallback)((function(e){var r=e.detail.value;i.value=r,c.onChange({name:i.name,value:i.value})}),[]);return d().createElement(d().Fragment,null,d().createElement(l(),{readonly:!0,label:i.label,name:i.name,rightIcon:"select"===i.type&&d().createElement(p.ArrowRight,null),onClick:_},"text"===i.type?d().createElement(n(),{placeholder:i.placeholder,value:i.value,onChange:w}):null,"select"===i.type?d().createElement(n(),{readonly:!0,placeholder:i.placeholder,value:i.value}):null),d().createElement(o(),{open:h,rounded:!0,placement:"bottom",onClose:S},d().createElement(r(),{value:f,onCancel:S,onConfirm:O},d().createElement(r().Toolbar,null,d().createElement(r().Button,null,"取消"),d().createElement(r().Button,null,"确认")),d().createElement(r().Columns,{children:x}))))}})(),s})()));