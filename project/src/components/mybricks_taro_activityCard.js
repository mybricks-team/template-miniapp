!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("@tarojs/components"),require("@tarojs/taro"),require("react")):"function"==typeof define&&define.amd?define(["@tarojs/components","@tarojs/taro","react"],t):"object"==typeof exports?exports.fangzhouComDef=t(require("@tarojs/components"),require("@tarojs/taro"),require("react")):e.fangzhouComDef=t(e["@tarojs/components"],e["@tarojs/taro"],e.React)}(self,((e,t,a)=>(()=>{"use strict";var n={7592:(e,t,a)=>{a.d(t,{Z:()=>i});var n=a(359),o=a.n(n),r=a(5207),c=a(9525),l=function(){return l=Object.assign||function(e){for(var t,a=1,n=arguments.length;a<n;a++)for(var o in t=arguments[a])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},l.apply(this,arguments)},s=function(e,t){var a={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(a[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(a[n[o]]=e[n[o]])}return a};function i(e){var t=e.skeleton,a=void 0!==t&&t,i=e.onLoad,u=e.onClick,m=e.onError,d=e.className,f=e.src,p=e.mode,b=s(e,["skeleton","onLoad","onClick","onError","className","src","mode"]),g=(0,n.useState)(!!a),v=g[0],y=g[1];(0,n.useEffect)((function(){f&&a&&y(!0)}),[f,a]);var w=(0,n.useCallback)((function(e){y(!1),null==i||i(e)}),[i]),j=(0,n.useCallback)((function(e){null==u||u(e)}),[u]),E=(0,n.useCallback)((function(e){y(!1),null==m||m(e)}),[m]);return o().createElement(c.View,{className:r.Z.com},o().createElement(c.View,{className:v?"".concat(r.Z.place):"".concat(r.Z.place," ").concat(r.Z.none)}),o().createElement(c.Image,l({},b,{className:d,src:f,mode:p,onClick:j,onLoad:w,onError:E})))}},514:(e,t,a)=>{a.d(t,{Z:()=>n});const n={card:"card-fa919",head:"head-e1e04",tag:"tag-a6209",thumbnail:"thumbnail-afa4c",body:"body-c569c",title:"title-f5e75",meta:"meta-ce486",left:"left-c54c9",btn:"btn-e6bb4",datetime:"datetime-e4e8c",text:"text-b607b",address:"address-a5a54"}},5207:(e,t,a)=>{a.d(t,{Z:()=>n});const n={com:"com-fe1c1",place:"place-f8f60",none:"none-e996f"}},9525:t=>{t.exports=e},6801:e=>{e.exports=t},359:e=>{e.exports=a}},o={};function r(e){var t=o[e];if(void 0!==t)return t.exports;var a=o[e]={exports:{}};return n[e](a,a.exports,r),a.exports}r.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return r.d(t,{a:t}),t},r.d=(e,t)=>{for(var a in t)r.o(t,a)&&!r.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})},r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var c={};return(()=>{r.r(c),r.d(c,{default:()=>u});var e=r(359),t=r.n(e),a=r(9525),n=r(514),o=r(6801),l=r(7592),s={id:1686035574636,活动名称:"2023阿里巴巴公益榜颁奖晚会",活动海报:"https://ali-ec.static.yximgs.com/udata/pkg/eshop/chrome-plugin-upload/2023-03-03/1677827764831.94d6c7462d593fa1.jpeg",活动开始时间:"2023-03-03 19:00",活动结束时间:"2023-03-03 21:00",活动形式:"线上活动",活动城市:"杭州",活动地址:"阿里巴巴西溪园区A区5号报告厅",活动详情:"",报名条件:"不限制",活动报名表:[{审核状态:"审核中",用户:1686035634859},{审核状态:"审核未通过",用户:1686035641612}],_活动分类:1686041696194,活动分类:{id:1686041696194,分类介绍:null,分类名称:"分类1",分类图标:null},活动简介:null,_活动开始时间:1686035517987,_活动结束时间:1686035517987},i=function(e){var t=new Date(e),a=new Date,n=t.getFullYear()===a.getFullYear(),o=t.getMonth()+1,r=t.getDate(),c=t.getHours(),l=t.getMinutes(),s=o<10?"0".concat(o):o,i=r<10?"0".concat(r):r,u=c<10?"0".concat(c):c,m=l<10?"0".concat(l):l;if(n)return"".concat(s,"-").concat(i," ").concat(u,":").concat(m);var d=t.getFullYear();return"".concat(d,"-").concat(s,"-").concat(i," ").concat(u,":").concat(m)};function u(r){var c,u,m=r.env,d=(r.data,r.inputs),f=r.outputs,p=(r.slots,(0,e.useState)(m.edit?s:{})),b=p[0],g=p[1];(0,e.useMemo)((function(){d.setDatasource((function(e){g(e)}))}),[]);var v=(0,e.useCallback)((function(){f.onClick({id:b.id})}),[b]),y=(0,e.useMemo)((function(){return i(b["活动开始时间"])}),[b]),w=(0,e.useMemo)((function(){var e=o.getStorageSync("userInfo"),t=(new Date).getTime(),a=new Date(b["活动开始时间"]).getTime(),n=new Date(b["活动结束时间"]).getTime(),r="立即报名";switch(!0){case t<a:r="立即报名";break;case t>=a&&t<=n:r="进行中";break;case t>n:r="已结束"}return e&&e.id&&(b["活动报名表"]||[]).some((function(t){return t["用户"]===e.id}))?"已报名":r}),[b]);return t().createElement(a.View,{className:n.Z.card,onClick:v},t().createElement(a.View,{className:n.Z.head},(null===(c=null==b?void 0:b.活动分类)||void 0===c?void 0:c.分类名称)?t().createElement(a.View,{className:n.Z.tag},null===(u=null==b?void 0:b.活动分类)||void 0===u?void 0:u.分类名称):null,t().createElement(l.Z,{skeleton:!0,className:n.Z.thumbnail,mode:"aspectFill",src:b["活动海报"]})),t().createElement(a.View,{className:n.Z.body},t().createElement(a.View,{className:n.Z.title},b["活动名称"]),t().createElement(a.View,{className:n.Z.meta},t().createElement(a.View,{className:n.Z.left},t().createElement(a.View,{className:n.Z.datetime},t().createElement(a.Text,{className:n.Z.text},y)),t().createElement(a.View,{className:n.Z.address},t().createElement(a.Text,{className:n.Z.text},b["活动城市"]))),t().createElement(a.View,{className:n.Z.btn},w))))}})(),c})()));