!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.fangzhouComDef=e():t.fangzhouComDef=e()}(self,(()=>(()=>{"use strict";var t={9394:(t,e,o)=>{o.d(e,{xn:()=>i});var r=o(6405);function n(t){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n(t)}function i(t,e,o){var i,a=o||{},c=a.env,s=a.callback,u=void 0===s?function(){}:s,p=(null==c?void 0:c.runtime)&&!(null===(i=null==c?void 0:c.runtime)||void 0===i?void 0:i.debug);"object"===n(t)&&(t=p&&(null==t?void 0:t.transformCode)||(null==t?void 0:t.code));var l=null;if(e&&e.length){var f=new r.Z({module:!0}),d=decodeURIComponent(t);l=/export\s+default.*async.*function.*\(/g.test(d)?f.compile("".concat(d.replace(/export\s+default.*function.*\(/g,"async function _RT_("))):f.compile("".concat(d.replace(/export\s+default.*function.*\(/g,"function _RT_(")))}else l=(f=new r.Z).compile("".concat(decodeURIComponent(t)));return l.run(e,u)}o(526)},6405:(t,e,o)=>{o.d(e,{Z:()=>y});var r=function(t,e,o){if(o||2===arguments.length)for(var r,n=0,i=e.length;n<i;n++)!r&&n in e||(r||(r=Array.prototype.slice.call(e,0,n)),r[n]=e[n]);return t.concat(r||Array.prototype.slice.call(e))},n=window.setInterval,i=window.clearInterval,a=window.setTimeout,c=window.clearTimeout,s=window,u=new WeakMap,p=new WeakMap,l=new WeakMap,f={undefined:!0,Array:!0,Object:!0,String:!0,Boolean:!0,Math:!0,Number:!0,Symbol:!0,parseFloat:!0,Float32Array:!0};function d(){var t={};return Object.getOwnPropertyNames(s).forEach((function(e){var o=Object.getOwnPropertyDescriptor(s,e);if(o&&!o.configurable){var r=Object.prototype.hasOwnProperty.call(o,"get");"top"!==e&&"parent"!==e&&"self"!==e&&"window"!==e||(o.configurable=!0,r||(o.writable=!0)),Object.defineProperty(t,e,Object.freeze(o))}})),t}const y=function(){function t(t){void 0===t&&(t={});var e=this;this.hasDisposed=!1,this.fakeWindow=d(),this.timeoutList=[],this.intervalList=[],this.options={},this.options=t||{},this.proxy=new Proxy(window,{set:function(t,o,r){if(!e.hasDisposed)try{!e.fakeWindow.hasOwnProperty(o)&&t.hasOwnProperty(o)&&(n=o,i=e.fakeWindow,(a=Object.getOwnPropertyDescriptor(window,n))&&a.writable&&Object.defineProperty(i,n,{configurable:a.configurable,enumerable:a.enumerable,writable:a.writable,value:a.value})),e.fakeWindow[o]=r}catch(t){throw console.error("set-key-error",o,t),t}var n,i,a;return!0},get:function(t,o){if(o===Symbol.unscopables)return f;if("window"===o||"self"===o)return e.proxy;if("document"!==o){if("hasOwnProperty"===o)return t.hasOwnProperty;if("eval"===o)return t.eval;if("location"===o)return t.location;try{var r=o in e.fakeWindow?e.fakeWindow[o]:t[o];return"function"!=typeof r||function(t){if(p.has(t))return p.get(t);var e=0===t.name.indexOf("bound ")&&!t.hasOwnProperty("prototype");return p.set(t,e),e}(r)||function(t){if(u.has(t))return u.get(t);var e=t.prototype&&t.prototype.constructor===t&&Object.getOwnPropertyNames(t.prototype).length>1||/^function\b\s[A-Z].*/.test(t.toString())||/^class\b/.test(t.toString());return u.set(t,e),e}(r)?r:(r=Function.prototype.bind.call(r,t),function(t,e){var o=l.get(e);if(o)return o;var r=Function.prototype.bind.call(e,t);for(var n in e)r[n]=e[n];return e.hasOwnProperty("prototype")&&!r.hasOwnProperty("prototype")&&(r.prototype=e.prototype),l.set(e,r),r}(window,r))}catch(t){throw console.error("get-key-error",o,t),t}}},has:function(t,o){return!e.options.module||"params"!==o&&"cb"!==o}}),this.proxy.setTimeout=function(t,o){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];if(e.hasDisposed)return 0;var c=a.apply(void 0,r([t,o],n,!1));return e.timeoutList.push(c),c},this.proxy.clearTimeout=function(t){var o=e.timeoutList.indexOf(t);return-1!==o&&e.timeoutList.splice(o,1),c(t)},this.proxy.setInterval=function(t,o){for(var i=[],a=2;a<arguments.length;a++)i[a-2]=arguments[a];if(e.hasDisposed)return 0;var c=n.apply(void 0,r([t,o],i,!1));return e.intervalList.push(c),c},this.proxy.clearInterval=function(t){var o=e.intervalList.indexOf(t);return-1!==o&&e.intervalList.splice(o,1),i(t)},s.proxy=this.proxy}return t.prototype.compile=function(t){if(this.hasDisposed)throw new Error("sandbox has been destroyed");var e,o=this.options.module;e=o?function(t){return"(\n                function(window, params, cb) {\n                    with(window) {\n                        return (".concat(t,")(...params, cb)\n                    }\n                }\n            )")}(t):function(t){return"(\n                function(window) {\n                    with(window){\n                        ".concat(t,"\n                    } \n                }\n            ).bind(window.proxy)\n        ")}(t);var r=s.eval("".concat(e,";//@ sourceURL=sandbox-code.js"));return{run:function(t,e){try{return o?r(window.proxy,t,e):r(window.proxy)}catch(t){throw console.error("js sandbox error occur:",t),t}}}},t.prototype.dispose=function(){this.timeoutList.forEach((function(t){window.clearTimeout(t)})),this.timeoutList=[],this.intervalList.forEach((function(t){return i(t)})),this.intervalList=[],this.fakeWindow=d(),this.options={},delete s.proxy,this.hasDisposed=!0,console.log("Sandbox was successfully destroyed")},t}()},526:()=>{},9292:(t,e,o)=>{function r(t){var e=[];return Object.keys(t).sort((function(t,e){return parseInt(t)-parseInt(e)})).forEach((function(o){e.push(t[o])})),e}o.d(e,{U:()=>r})}},e={};function o(r){var n=e[r];if(void 0!==n)return n.exports;var i=e[r]={exports:{}};return t[r](i,i.exports,o),i.exports}o.d=(t,e)=>{for(var r in e)o.o(e,r)&&!o.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})},o.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),o.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})};var r={};return(()=>{o.r(r),o.d(r,{default:()=>i});var t=o(9394),e=o(9292),n=function(){return n=Object.assign||function(t){for(var e,o=1,r=arguments.length;o<r;o++)for(var n in e=arguments[o])Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t},n.apply(this,arguments)};function i(o){var r=o.env,i=o.data,a=o.inputs,c=o.outputs,s=o.logger,u=o.onError,p=i.fns,l=i.runImmediate;console.log(111,l);var f={outputs:(0,e.U)(c)};try{l&&r.runtime&&(0,t.xn)(p,[f]),a.input((function(o){console.log("val",o);try{(0,t.xn)(p,[n(n({},f),{inputs:(0,e.U)(o)})])}catch(t){null==u||u(t),console.error("js计算组件运行错误.",t),s.error("".concat(t))}}))}catch(t){null==u||u(t),console.error("js计算组件运行错误.",t),s.error("".concat(t))}}})(),r})()));