!function(t,o){"object"==typeof exports&&"object"==typeof module?module.exports=o():"function"==typeof define&&define.amd?define([],o):"object"==typeof exports?exports.fangzhouComDef=o():t.fangzhouComDef=o()}(self,(()=>(()=>{"use strict";var t={9394:(t,o,e)=>{e.d(o,{xn:()=>i});var n=e(6405);function r(t){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r(t)}function i(t,o,e){var i,a=e||{},u=a.env,c=a.callback,s=void 0===c?function(){}:c,p=(null==u?void 0:u.runtime)&&!(null===(i=null==u?void 0:u.runtime)||void 0===i?void 0:i.debug);"object"===r(t)&&(t=p&&(null==t?void 0:t.transformCode)||(null==t?void 0:t.code));var l=null;if(o&&o.length){var f=new n.Z({module:!0}),d=decodeURIComponent(t);l=/export\s+default.*async.*function.*\(/g.test(d)?f.compile("".concat(d.replace(/export\s+default.*function.*\(/g,"async function _RT_("))):f.compile("".concat(d.replace(/export\s+default.*function.*\(/g,"function _RT_(")))}else l=(f=new n.Z).compile("".concat(decodeURIComponent(t)));return l.run(o,s)}e(526)},6405:(t,o,e)=>{e.d(o,{Z:()=>y});var n=function(t,o,e){if(e||2===arguments.length)for(var n,r=0,i=o.length;r<i;r++)!n&&r in o||(n||(n=Array.prototype.slice.call(o,0,r)),n[r]=o[r]);return t.concat(n||Array.prototype.slice.call(o))},r=window.setInterval,i=window.clearInterval,a=window.setTimeout,u=window.clearTimeout,c=window,s=new WeakMap,p=new WeakMap,l=new WeakMap,f={undefined:!0,Array:!0,Object:!0,String:!0,Boolean:!0,Math:!0,Number:!0,Symbol:!0,parseFloat:!0,Float32Array:!0};function d(){var t={};return Object.getOwnPropertyNames(c).forEach((function(o){var e=Object.getOwnPropertyDescriptor(c,o);if(e&&!e.configurable){var n=Object.prototype.hasOwnProperty.call(e,"get");"top"!==o&&"parent"!==o&&"self"!==o&&"window"!==o||(e.configurable=!0,n||(e.writable=!0)),Object.defineProperty(t,o,Object.freeze(e))}})),t}const y=function(){function t(t){void 0===t&&(t={});var o=this;this.hasDisposed=!1,this.fakeWindow=d(),this.timeoutList=[],this.intervalList=[],this.options={},this.options=t||{},this.proxy=new Proxy(window,{set:function(t,e,n){if(!o.hasDisposed)try{!o.fakeWindow.hasOwnProperty(e)&&t.hasOwnProperty(e)&&(r=e,i=o.fakeWindow,(a=Object.getOwnPropertyDescriptor(window,r))&&a.writable&&Object.defineProperty(i,r,{configurable:a.configurable,enumerable:a.enumerable,writable:a.writable,value:a.value})),o.fakeWindow[e]=n}catch(t){throw console.error("set-key-error",e,t),t}var r,i,a;return!0},get:function(t,e){if(e===Symbol.unscopables)return f;if("window"===e||"self"===e)return o.proxy;if("document"!==e){if("hasOwnProperty"===e)return t.hasOwnProperty;if("eval"===e)return t.eval;if("location"===e)return t.location;try{var n=e in o.fakeWindow?o.fakeWindow[e]:t[e];return"function"!=typeof n||function(t){if(p.has(t))return p.get(t);var o=0===t.name.indexOf("bound ")&&!t.hasOwnProperty("prototype");return p.set(t,o),o}(n)||function(t){if(s.has(t))return s.get(t);var o=t.prototype&&t.prototype.constructor===t&&Object.getOwnPropertyNames(t.prototype).length>1||/^function\b\s[A-Z].*/.test(t.toString())||/^class\b/.test(t.toString());return s.set(t,o),o}(n)?n:(n=Function.prototype.bind.call(n,t),function(t,o){var e=l.get(o);if(e)return e;var n=Function.prototype.bind.call(o,t);for(var r in o)n[r]=o[r];return o.hasOwnProperty("prototype")&&!n.hasOwnProperty("prototype")&&(n.prototype=o.prototype),l.set(o,n),n}(window,n))}catch(t){throw console.error("get-key-error",e,t),t}}},has:function(t,e){return!o.options.module||"params"!==e&&"cb"!==e}}),this.proxy.setTimeout=function(t,e){for(var r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(o.hasDisposed)return 0;var u=a.apply(void 0,n([t,e],r,!1));return o.timeoutList.push(u),u},this.proxy.clearTimeout=function(t){var e=o.timeoutList.indexOf(t);return-1!==e&&o.timeoutList.splice(e,1),u(t)},this.proxy.setInterval=function(t,e){for(var i=[],a=2;a<arguments.length;a++)i[a-2]=arguments[a];if(o.hasDisposed)return 0;var u=r.apply(void 0,n([t,e],i,!1));return o.intervalList.push(u),u},this.proxy.clearInterval=function(t){var e=o.intervalList.indexOf(t);return-1!==e&&o.intervalList.splice(e,1),i(t)},c.proxy=this.proxy}return t.prototype.compile=function(t){if(this.hasDisposed)throw new Error("sandbox has been destroyed");var o,e=this.options.module;o=e?function(t){return"(\n                function(window, params, cb) {\n                    with(window) {\n                        return (".concat(t,")(...params, cb)\n                    }\n                }\n            )")}(t):function(t){return"(\n                function(window) {\n                    with(window){\n                        ".concat(t,"\n                    } \n                }\n            ).bind(window.proxy)\n        ")}(t);var n=c.eval("".concat(o,";//@ sourceURL=sandbox-code.js"));return{run:function(t,o){try{return e?n(window.proxy,t,o):n(window.proxy)}catch(t){throw console.error("js sandbox error occur:",t),t}}}},t.prototype.dispose=function(){this.timeoutList.forEach((function(t){window.clearTimeout(t)})),this.timeoutList=[],this.intervalList.forEach((function(t){return i(t)})),this.intervalList=[],this.fakeWindow=d(),this.options={},delete c.proxy,this.hasDisposed=!0,console.log("Sandbox was successfully destroyed")},t}()},526:()=>{},9292:(t,o,e)=>{function n(t){var o=[];return Object.keys(t).sort((function(t,o){var e,n;return+((null===(e=null==t?void 0:t.match(/\d+/g))||void 0===e?void 0:e[0])||0)-+((null===(n=null==o?void 0:o.match(/\d+/g))||void 0===n?void 0:n[0])||0)})).forEach((function(e){o.push(t[e])})),o}e.d(o,{g:()=>n})}},o={};function e(n){var r=o[n];if(void 0!==r)return r.exports;var i=o[n]={exports:{}};return t[n](i,i.exports,e),i.exports}e.d=(t,o)=>{for(var n in o)e.o(o,n)&&!e.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:o[n]})},e.o=(t,o)=>Object.prototype.hasOwnProperty.call(t,o),e.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})};var n={};return(()=>{e.r(n),e.d(n,{default:()=>i});var t=e(9394),o=e(9292),r=function(){return r=Object.assign||function(t){for(var o,e=1,n=arguments.length;e<n;e++)for(var r in o=arguments[e])Object.prototype.hasOwnProperty.call(o,r)&&(t[r]=o[r]);return t},r.apply(this,arguments)};function i(e){var n=e.env,i=e.data,a=e.inputs,u=e.outputs,c=i.fns,s=i.runImmediate,p={outputs:(0,o.g)(u)};try{s&&n.runtime&&(0,t.xn)(c,[p]),a.input((function(e){console.log("val",e);try{(0,t.xn)(c,[r(r({},p),{inputs:(0,o.g)(e)})])}catch(t){console.error("js计算组件运行错误.",t)}}))}catch(t){console.error("js计算组件运行错误.",t)}}})(),n})()));