/*! For license information please see mybricks_taro_activityDetail.js.LICENSE.txt */
!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("@tarojs/components"),require("react")):"function"==typeof define&&define.amd?define(["@tarojs/components","react"],t):"object"==typeof exports?exports.fangzhouComDef=t(require("@tarojs/components"),require("react")):e.fangzhouComDef=t(e["@tarojs/components"],e.React)}(self,((e,t)=>(()=>{var a={7592:(e,t,a)=>{"use strict";a.d(t,{Z:()=>i});var n=a(359),c=a.n(n),o=a(5207),r=a(9525),l=function(){return l=Object.assign||function(e){for(var t,a=1,n=arguments.length;a<n;a++)for(var c in t=arguments[a])Object.prototype.hasOwnProperty.call(t,c)&&(e[c]=t[c]);return e},l.apply(this,arguments)},s=function(e,t){var a={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(a[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var c=0;for(n=Object.getOwnPropertySymbols(e);c<n.length;c++)t.indexOf(n[c])<0&&Object.prototype.propertyIsEnumerable.call(e,n[c])&&(a[n[c]]=e[n[c]])}return a};function i(e){var t=e.skeleton,a=void 0!==t&&t,i=e.onLoad,u=e.onClick,m=e.onError,p=e.className,d=e.src,f=e.mode,b=s(e,["skeleton","onLoad","onClick","onError","className","src","mode"]),g=(0,n.useState)(!!a),h=g[0],v=g[1];(0,n.useEffect)((function(){d&&a&&v(!0)}),[d,a]);var y=(0,n.useCallback)((function(e){v(!1),null==i||i(e)}),[i]),Z=(0,n.useCallback)((function(e){null==u||u(e)}),[u]),E=(0,n.useCallback)((function(e){v(!1),null==m||m(e)}),[m]);return c().createElement(r.View,{className:o.Z.com},c().createElement(r.View,{className:h?"".concat(o.Z.place):"".concat(o.Z.place," ").concat(o.Z.none)}),c().createElement(r.Image,l({},b,{className:p,src:d,mode:f,onClick:Z,onLoad:y,onError:E})))}},3078:(e,t,a)=>{var n;function c(e){return c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},c(e)}!function(){"use strict";var o={}.hasOwnProperty;function r(){for(var e=[],t=0;t<arguments.length;t++){var a=arguments[t];if(a){var n=c(a);if("string"===n||"number"===n)e.push(a);else if(Array.isArray(a)){if(a.length){var l=r.apply(null,a);l&&e.push(l)}}else if("object"===n){if(a.toString!==Object.prototype.toString&&!a.toString.toString().includes("[native code]")){e.push(a.toString());continue}for(var s in a)o.call(a,s)&&a[s]&&e.push(s)}}}return e.join(" ")}e.exports?(r.default=r,e.exports=r):"object"===c(a.amdO)&&a.amdO?void 0===(n=function(){return r}.apply(t,[]))||(e.exports=n):window.classNames=r}()},4763:(e,t,a)=>{"use strict";a.d(t,{Z:()=>n});const n={detail:"detail-c9948",head:"head-be1f9",thumbnailSlot:"thumbnailSlot-b132d",thumbnail:"thumbnail-bd5e7",meta:"meta-b1f9d",title:"title-d9af4",datetime:"datetime-ac889",text:"text-b8cfa",address:"address-dd9cb",content:"content-a43eb",bannerSlot:"bannerSlot-a8966",footerSlot:"footerSlot-ec9f6",empty:"empty-ba0ab",placeholder:"placeholder-d384c",signupBar:"signupBar-b4ab3",share:"share-af1f8",shareText:"shareText-ddedd",shareButton:"shareButton-d2491",signupButton:"signupButton-e6610",disabled:"disabled-ecfd8",userList:"userList-f4ce9",item:"item-cbc20",avatarWrapper:"avatarWrapper-e3c20",avatar:"avatar-d3894",nickname:"nickname-f3ca4",card:"card-e50e0",label:"label-f5819"}},5207:(e,t,a)=>{"use strict";a.d(t,{Z:()=>n});const n={com:"com-fe1c1",place:"place-f8f60",none:"none-e996f"}},9525:t=>{"use strict";t.exports=e},359:e=>{"use strict";e.exports=t}},n={};function c(e){var t=n[e];if(void 0!==t)return t.exports;var o=n[e]={exports:{}};return a[e](o,o.exports,c),o.exports}c.amdO={},c.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return c.d(t,{a:t}),t},c.d=(e,t)=>{for(var a in t)c.o(t,a)&&!c.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})},c.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),c.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var o={};return(()=>{"use strict";c.r(o),c.d(o,{default:()=>p});var e=c(359),t=c.n(e),a=c(9525),n=c(7592),r=c(4763),l=c(3078),s=c.n(l),i=function(){return i=Object.assign||function(e){for(var t,a=1,n=arguments.length;a<n;a++)for(var c in t=arguments[a])Object.prototype.hasOwnProperty.call(t,c)&&(e[c]=t[c]);return e},i.apply(this,arguments)},u={id:1686135679296,活动名称:"52小时设计冲刺数字人AIGC专场",活动海报:"http://wimg.huodongxing.com/logo/202305/7702263230900/734896686487204_v2large.jpg",活动开始时间:"2023-06-07 15:11:57",活动结束时间:"2023-06-07 15:11:57",活动形式:"线下活动",活动城市:"合肥",活动地址:"黄山路602号合肥国家大学科技园路演中心",活动简介:null,活动详情:'<img src="http://cdn.huodongxing.com/file/ue/20230117/1187A09DBDF53D072B02233B51EAEFB36D/30314877413446919.jpeg" />',活动报名表:[{id:1686140424708,用户:{id:1686137057507,头像:"https://admin.alialumni.com/mfs/imgs/1686752688764/t9Uae6d5hce6xrqGUtZeNQo9WxRR4tfP-1686752688931.png",昵称:"昵称21aaaa",用户名:"用户1"},_用户:1686137057507,审核状态:null},{id:444015803838533,用户:{id:1686137057507,头像:"https://admin.alialumni.com/mfs/imgs/1686752688764/t9Uae6d5hce6xrqGUtZeNQo9WxRR4tfP-1686752688931.png",昵称:"昵称21aaaa",用户名:"用户1"},_用户:1686137057507,审核状态:"审核中"}],_活动分类:1686139623743,活动分类:{id:1686139623743,分类名称:"AIGC",分类图标:"http://cdn.huodongxing.com/Content/app/appom/202305/581170169463/294875664239464.jpg",分类简介:null},_活动开始时间:1686121917987,_活动结束时间:1686121917987,我的状态:"审核通过"},m=function(e,t){var a=new Date(e),n=new Date(t),c=a.getFullYear(),o=n.getFullYear(),r=a.getMonth()+1,l=n.getMonth()+1,s=a.getDate(),i=n.getDate(),u=a.getHours(),m=n.getHours(),p=a.getMinutes(),d=n.getMinutes(),f=c===o,b=f&&r===l&&s===i,g=b&&u===m&&p===d,h=c===(new Date).getFullYear(),v=f||h?"":"".concat(c,"-"),y=f||h?"":"".concat(o,"-"),Z=r<10?"0".concat(r):r,E=l<10?"0".concat(l):l,w=b?"":"".concat(s<10?"0".concat(s):s,"-"),N=b?"":"".concat(i<10?"0".concat(i):i,"-"),x=u<10?"0".concat(u):u,S=m<10?"0".concat(m):m,j=p<10?"0".concat(p):p,O=d<10?"0".concat(d):d;return g?"".concat(v).concat(Z,"-").concat(w).concat(x,":").concat(j):f?b?"".concat(Z,"-").concat(w).concat(x,":").concat(j," - ").concat(S,":").concat(O):"".concat(v).concat(Z,"-").concat(w).concat(x,":").concat(j," - ").concat(E,"-").concat(N).concat(S,":").concat(O):"".concat(v).concat(Z,"-").concat(w).concat(x,":").concat(j," - ").concat(y).concat(E,"-").concat(N).concat(S,":").concat(O)};function p(c){var o,l=c.env,p=(c.data,c.inputs),d=c.outputs,f=(c.slots,(0,e.useState)(l.edit?u:{})),b=f[0],g=f[1];(0,e.useMemo)((function(){p.status((function(e){g((function(t){var a;return i(i({},t),((a={})["我的状态"]=e,a))}))})),p.value((function(e){var t=(new Date).getTime(),a=e["活动开始时间"],n=e["活动结束时间"];t<a||(e["我的状态"]=t>n?"活动已结束":"活动进行中"),g(i({},e))}))}),[]);var h=(0,e.useMemo)((function(){return m(b["活动开始时间"],b["活动结束时间"])}),[b]),v=(0,e.useMemo)((function(){return b["活动详情"]?decodeURIComponent(b["活动详情"]):""}),[b]),y=(0,e.useMemo)((function(){var e;return s()(((e={})[r.Z.content]=!0,e.taro_html=!0,e))}),[]),Z=(0,e.useCallback)((function(){b["我的状态"]||d.onSignup({id:b.id})}),[b]),E=(0,e.useMemo)((function(){var e=b["活动报名表"]||[];return e.filter((function(e){return"审核未通过"!==e.审核状态}))}),[b["活动报名表"]]);return t().createElement(a.View,{className:r.Z.detail},t().createElement(a.View,{className:r.Z.head},t().createElement(a.View,{className:r.Z.thumbnailSlot},t().createElement(n.Z,{className:r.Z.thumbnail,skeleton:!0,mode:"aspectFill",src:b["活动海报"]})),t().createElement(a.View,{className:r.Z.meta},t().createElement(a.View,{className:r.Z.title},b["活动名称"]),t().createElement(a.View,{className:r.Z.datetime},t().createElement(a.Text,{className:r.Z.text},h)),t().createElement(a.View,{className:r.Z.address},t().createElement(a.Text,{className:r.Z.text},"".concat(b["活动地址"]||""))))),(null==E?void 0:E.length)?t().createElement(a.View,{className:r.Z.card},t().createElement(a.View,{className:r.Z.label},"已报名（",E.length,"）"),t().createElement(a.View,{className:r.Z.content},t().createElement(a.View,{className:r.Z.userList},E.map((function(e,c){var o,l;return t().createElement(a.View,{className:r.Z.item,key:c},t().createElement(a.View,{className:r.Z.avatarWrapper},t().createElement(n.Z,{skeleton:!0,className:r.Z.avatar,src:(null===(o=e["用户"])||void 0===o?void 0:o["头像"])||"https://ali-ec.static.yximgs.com/udata/pkg/eshop/chrome-plugin-upload/2023-05-30/1685451722186.3a6d5fa5deb9456f.png"})),t().createElement(a.View,{className:r.Z.nickname},(null===(l=e["用户"])||void 0===l?void 0:l["昵称"])||""))}))))):null,t().createElement(a.View,{className:r.Z.card},t().createElement(a.View,{className:r.Z.label},"活动详情"),t().createElement(a.View,{className:r.Z.content},t().createElement(a.RichText,{className:y,nodes:v}))),t().createElement(a.View,{className:r.Z.placeholder}),t().createElement(a.View,{className:r.Z.signupBar},t().createElement(a.Button,{className:r.Z.share,"open-type":"share"},t().createElement(a.View,{className:r.Z.shareButton}),t().createElement(a.Text,{className:r.Z.shareText},"分享到微信")),t().createElement(a.View,{className:s()(r.Z.signupButton,(o={},o[r.Z.disabled]=b["我的状态"],o)),onClick:Z},b["我的状态"]||"我要报名")))}})(),o})()));