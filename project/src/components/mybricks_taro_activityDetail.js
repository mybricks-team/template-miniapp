/*! For license information please see mybricks_taro_activityDetail.js.LICENSE.txt */
!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("@tarojs/components"),require("react")):"function"==typeof define&&define.amd?define(["@tarojs/components","react"],t):"object"==typeof exports?exports.fangzhouComDef=t(require("@tarojs/components"),require("react")):e.fangzhouComDef=t(e["@tarojs/components"],e.React)}(self,((e,t)=>(()=>{var a={7592:(e,t,a)=>{"use strict";a.d(t,{Z:()=>s});var n=a(359),c=a.n(n),r=a(5207),o=a(9525),l=function(){return l=Object.assign||function(e){for(var t,a=1,n=arguments.length;a<n;a++)for(var c in t=arguments[a])Object.prototype.hasOwnProperty.call(t,c)&&(e[c]=t[c]);return e},l.apply(this,arguments)},i=function(e,t){var a={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(a[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var c=0;for(n=Object.getOwnPropertySymbols(e);c<n.length;c++)t.indexOf(n[c])<0&&Object.prototype.propertyIsEnumerable.call(e,n[c])&&(a[n[c]]=e[n[c]])}return a};function s(e){var t=e.skeleton,a=void 0!==t&&t,s=e.onLoad,m=e.onClick,u=e.onError,d=e.className,f=e.src,p=e.mode,b=i(e,["skeleton","onLoad","onClick","onError","className","src","mode"]),g=(0,n.useState)(!!a),h=g[0],v=g[1];(0,n.useEffect)((function(){f&&a&&v(!0)}),[f,a]);var y=(0,n.useCallback)((function(e){v(!1),null==s||s(e)}),[s]),w=(0,n.useCallback)((function(e){null==m||m(e)}),[m]),Z=(0,n.useCallback)((function(e){v(!1),null==u||u(e)}),[u]);return c().createElement(o.View,{className:r.Z.com},c().createElement(o.View,{className:h?"".concat(r.Z.place):"".concat(r.Z.place," ").concat(r.Z.none)}),c().createElement(o.Image,l({},b,{className:d,src:f,mode:p,onClick:w,onLoad:y,onError:Z})))}},3078:(e,t,a)=>{var n;function c(e){return c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},c(e)}!function(){"use strict";var r={}.hasOwnProperty;function o(){for(var e=[],t=0;t<arguments.length;t++){var a=arguments[t];if(a){var n=c(a);if("string"===n||"number"===n)e.push(a);else if(Array.isArray(a)){if(a.length){var l=o.apply(null,a);l&&e.push(l)}}else if("object"===n){if(a.toString!==Object.prototype.toString&&!a.toString.toString().includes("[native code]")){e.push(a.toString());continue}for(var i in a)r.call(a,i)&&a[i]&&e.push(i)}}}return e.join(" ")}e.exports?(o.default=o,e.exports=o):"object"===c(a.amdO)&&a.amdO?void 0===(n=function(){return o}.apply(t,[]))||(e.exports=n):window.classNames=o}()},4763:(e,t,a)=>{"use strict";a.d(t,{Z:()=>n});const n={detail:"detail-c9948",head:"head-be1f9",thumbnailSlot:"thumbnailSlot-b132d",thumbnail:"thumbnail-bd5e7",meta:"meta-b1f9d",title:"title-d9af4",datetime:"datetime-ac889",address:"address-dd9cb",content:"content-a43eb",bannerSlot:"bannerSlot-a8966",footerSlot:"footerSlot-ec9f6",empty:"empty-ba0ab",placeholder:"placeholder-d384c",signupBar:"signupBar-b4ab3",share:"share-af1f8",shareText:"shareText-ddedd",shareButton:"shareButton-d2491",signupButton:"signupButton-e6610",disabled:"disabled-ecfd8",userList:"userList-f4ce9",item:"item-cbc20",avatarWrapper:"avatarWrapper-e3c20",avatar:"avatar-d3894",nickname:"nickname-f3ca4",card:"card-e50e0",label:"label-f5819",errorResult:"errorResult-a416d",text:"text-b8cfa",groupCard:"groupCard-df8b6",main:"main-fd690",logo:"logo-b9a43",condition:"condition-ac819",button:"button-ec781"}},5207:(e,t,a)=>{"use strict";a.d(t,{Z:()=>n});const n={com:"com-fe1c1",place:"place-f8f60",none:"none-e996f"}},9525:t=>{"use strict";t.exports=e},359:e=>{"use strict";e.exports=t}},n={};function c(e){var t=n[e];if(void 0!==t)return t.exports;var r=n[e]={exports:{}};return a[e](r,r.exports,c),r.exports}c.amdO={},c.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return c.d(t,{a:t}),t},c.d=(e,t)=>{for(var a in t)c.o(t,a)&&!c.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})},c.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),c.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var r={};return(()=>{"use strict";c.r(r),c.d(r,{default:()=>d});var e=c(359),t=c.n(e),a=c(9525),n=c(7592),o=c(4763),l=c(3078),i=c.n(l),s=function(){return s=Object.assign||function(e){for(var t,a=1,n=arguments.length;a<n;a++)for(var c in t=arguments[a])Object.prototype.hasOwnProperty.call(t,c)&&(e[c]=t[c]);return e},s.apply(this,arguments)},m={id:465449847898181,活动名称:"青橙会养生派|增福延寿一日禅禅修体验活动2期",活动海报:"https://admin.alialumni.com/mfs/imgs/1691471460833/f9lAlGypJ0Or7eKG0d8yWjNmwdAMYETm-1691471461096.JPG",活动开始时间:1691800200913,活动结束时间:1691832639913,活动形式:"线下活动",活动地址:"杭州市延寿白石寺三楼菩提讲堂",活动简介:"增福延寿一日禅禅修体验活动2期，报名后请添加派头新辰微信。",活动详情:"",活动报名表:[{id:465525414101061,用户:{id:461996469489733,头像:null,昵称:null,用户名:"odlHh5OzkrUfhLSh5skrzHw3t-6w",阿里花名:"禧和"},_用户:461996469489733,审核状态:"审核通过"},{id:465522246656069,用户:{id:461217339809861,头像:"https://admin.alialumni.com/mfs/imgs/1690438717081/X3lJiCenHakjKJke2Inn8cK1JeoiawsY-1690438717381.jpg",昵称:"新辰",用户名:"odlHh5OvNMK49dDcYP-Ukp8ki73g",阿里花名:"新辰"},_用户:461217339809861,审核状态:"审核通过"},{id:465470643236933,用户:{id:465233208844357,头像:null,昵称:null,用户名:"odlHh5Kb8uFtfWs10WIKUvInWgUU",阿里花名:"巾伊"},_用户:465233208844357,审核状态:"审核通过"},{id:466107707674693,用户:{id:463728503865413,头像:null,昵称:null,用户名:"odlHh5MJWcmpuQxykJhG8Q24gj9c",阿里花名:"白潞"},_用户:463728503865413,审核状态:"审核中"},{id:465466503626821,用户:{id:461272211824709,头像:"https://admin.alialumni.com/mfs/imgs/1690910267844/tjxhVpkFPWoNbno0hR9MNA7RZM4BTJWj-1690910267974.jpg",昵称:"SAM",用户名:"odlHh5D-OP2UBf2Ovz7hAAjMyH_0",阿里花名:" SAM"},_用户:461272211824709,审核状态:"审核通过"},{id:465465154756677,用户:{id:463676282941509,头像:"https://admin.alialumni.com/mfs/imgs/1691133201749/RV9BdXhrNAZPwJmJATUTCYdSyFc3WTo2-1691133201929.jpg",昵称:"海夕",用户名:"odlHh5DyT19p2-5rcWFn7Z0fy4jw",阿里花名:"海夕"},_用户:463676282941509,审核状态:"审核通过"},{id:465461076414533,用户:{id:462032856424517,头像:null,昵称:null,用户名:"odlHh5CLLir_ZjcZ5ogjbM2jDJ9U",阿里花名:"萍萍"},_用户:462032856424517,审核状态:"审核通过"}],_活动分类:463762142621765,活动分类:{id:463762142621765,分类名称:"养生派",分类图标:null,分类简介:""},活动城市:"杭州",活动特殊状态:null,报名人数上限:25,_活动发起人:461217339809861,活动发起人:{id:461217339809861,头像:"https://admin.alialumni.com/mfs/imgs/1690438717081/X3lJiCenHakjKJke2Inn8cK1JeoiawsY-1690438717381.jpg",昵称:"新辰",阿里花名:"新辰",微信二维码:"https://admin.alialumni.com/mfs/imgs/1690439180972/HiMTUbYn46LF5xrsPbfihCrlEntavUbs-1690439181398.jpg",阿里认证审核状态:"审核通过"},活动状态:null,_组织:462657399377989,组织:{id:462657399377989,组织名称:"青橙会养生派",组织图标:"https://admin.alialumni.com/mfs/imgs/1691484517942/PR6z8iJrp7mdIk3HHlHXBOB23m3yIpJs-1691484518107.JPG",组织简介:"阿里青橙会旗下组织，搭建一个让校友们更健康，美丽，富有的平台。期待更多喜欢的校友加入我们，一起链接。 养生派有丰富的线下活动供大家体验。"},我的状态:""},u=function(e,t){var a=new Date(e),n=new Date(t),c=a.getFullYear(),r=n.getFullYear(),o=a.getMonth()+1,l=n.getMonth()+1,i=a.getDate(),s=n.getDate(),m=a.getHours(),u=n.getHours(),d=a.getMinutes(),f=n.getMinutes(),p=c===r,b=c===(new Date).getFullYear(),g=p||b?"":"".concat(c,"-"),h=p||b?"":"".concat(r,"-"),v=o<10?"0".concat(o):o,y=l<10?"0".concat(l):l,w=i<10?"0".concat(i):i,Z=s<10?"0".concat(s):s,N=m<10?"0".concat(m):m,E=u<10?"0".concat(u):u,j=d<10?"0".concat(d):d,V=f<10?"0".concat(f):f;return p?"".concat(v,"-").concat(w," ").concat(N,":").concat(j," 至 ").concat(y,"-").concat(Z," ").concat(E,":").concat(V):"".concat(g).concat(v,"-").concat(w," ").concat(N,":").concat(j," 至 ").concat(h).concat(y,"-").concat(Z," ").concat(E,":").concat(V)};function d(c){var r,l=c.env,d=(c.data,c.inputs),f=c.outputs,p=(c.slots,(0,e.useState)(l.edit?m:{})),b=p[0],g=p[1];(0,e.useMemo)((function(){d.status((function(e){g((function(t){var a;return s(s({},t),((a={})["我的状态"]=e,a))}))})),d.value((function(e){var t=(new Date).getTime(),a=e["活动开始时间"],n=e["活动结束时间"];if(t<a){var c=b["活动报名表"]||[];c=c.filter((function(e){return"审核未通过"!==e.审核状态})),e["报名人数上限"]&&e["报名人数上限"]<=c.length&&(e["我的状态"]="报名人数已满")}else e["我的状态"]=t>n?"活动已结束":"活动进行中";g(s({},e))}))}),[]);var h=(0,e.useMemo)((function(){return b["活动开始时间"]&&b["活动结束时间"]?u(b["活动开始时间"],b["活动结束时间"]):""}),[b]),v=(0,e.useMemo)((function(){if(b["活动详情"]){var e=decodeURIComponent(b["活动详情"]);return e.replace(/<img/gi,'<img style="display: block; width: 100%; height: auto;"')}return""}),[b]),y=(0,e.useMemo)((function(){var e;return i()(((e={})[o.Z.content]=!0,e.taro_html=!0,e))}),[]),w=(0,e.useCallback)((function(){b["我的状态"]||f.onSignup({id:b.id})}),[b]),Z=(0,e.useMemo)((function(){var e=b["活动报名表"]||[];return e.filter((function(e){return"审核未通过"!==e.审核状态}))}),[b["活动报名表"]]),N=(0,e.useCallback)((function(){var e;f.onClickGroupCard({id:null===(e=b["组织"])||void 0===e?void 0:e.id})}),[b]),E=(0,e.useCallback)((function(e){f.onClickUserCard({id:e})}),[]);return JSON.stringify(b)===JSON.stringify({})?null:"下架"===b["活动状态"]?t().createElement(a.View,{className:o.Z.errorResult},t().createElement(a.View,{className:o.Z.text},"来晚啦，活动已下线")):t().createElement(a.View,{className:o.Z.detail},t().createElement(a.View,{className:o.Z.head},t().createElement(a.View,{className:o.Z.thumbnailSlot},t().createElement(n.Z,{className:o.Z.thumbnail,skeleton:!0,mode:"aspectFill",src:b["活动海报"]})),t().createElement(a.View,{className:o.Z.meta},t().createElement(a.View,{className:o.Z.title},b["活动名称"]),t().createElement(a.View,{className:o.Z.datetime},t().createElement(a.Text,{className:o.Z.text},h)),t().createElement(a.View,{className:o.Z.address},t().createElement(a.Text,{className:o.Z.text},"".concat(b["活动地址"]||""))))),b["组织"]?t().createElement(a.View,{className:o.Z.card},t().createElement(a.View,{className:o.Z.label},"关联社群"),t().createElement(a.View,{className:o.Z.content},t().createElement(a.View,{className:o.Z.groupCard,onClick:N},t().createElement(a.View,{className:o.Z.head},t().createElement(a.View,{className:o.Z.main},b["组织"]["组织图标"]?t().createElement(a.Image,{className:o.Z.logo,mode:"scaleToFill",src:b["组织"]["组织图标"]}):null,t().createElement(a.View,{className:o.Z.meta},t().createElement(a.View,{className:o.Z.title},b["组织"]["组织名称"]))),t().createElement(a.View,{className:o.Z.button},"查看"))))):null,(null==Z?void 0:Z.length)?t().createElement(a.View,{className:o.Z.card},t().createElement(a.View,{className:o.Z.label},"已报名（",Z.length,"）"),t().createElement(a.View,{className:o.Z.content},t().createElement(a.View,{className:o.Z.userList},Z.map((function(e,c){var r,l,i;return t().createElement(a.View,{className:o.Z.item,key:c,onClick:function(){E(e["用户"].id)}},t().createElement(a.View,{className:o.Z.avatarWrapper},t().createElement(n.Z,{skeleton:!0,className:o.Z.avatar,src:(null===(r=e["用户"])||void 0===r?void 0:r["头像"])||"https://ali-ec.static.yximgs.com/udata/pkg/eshop/chrome-plugin-upload/2023-05-30/1685451722186.3a6d5fa5deb9456f.png"})),t().createElement(a.View,{className:o.Z.nickname},(null===(l=e["用户"])||void 0===l?void 0:l["昵称"])||(null===(i=e["用户"])||void 0===i?void 0:i["阿里花名"])||""))}))))):null,t().createElement(a.View,{className:o.Z.card},t().createElement(a.View,{className:o.Z.label},"活动详情"),t().createElement(a.View,{className:o.Z.content},t().createElement(a.RichText,{className:y,nodes:v,selectable:"true",imageMenuPrevent:"false",preview:"true"}))),t().createElement(a.View,{className:o.Z.placeholder}),t().createElement(a.View,{className:o.Z.signupBar},t().createElement(a.Button,{className:o.Z.share,"open-type":"share"},t().createElement(a.View,{className:o.Z.shareButton}),t().createElement(a.Text,{className:o.Z.shareText},"分享到微信")),t().createElement(a.View,{className:i()(o.Z.signupButton,(r={},r[o.Z.disabled]=b["我的状态"],r)),onClick:w},b["我的状态"]||"我要报名")))}})(),r})()));