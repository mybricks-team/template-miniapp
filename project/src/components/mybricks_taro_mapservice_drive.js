!function(o,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("@tarojs/taro")):"function"==typeof define&&define.amd?define(["@tarojs/taro"],t):"object"==typeof exports?exports.fangzhouComDef=t(require("@tarojs/taro")):o.fangzhouComDef=t(o["@tarojs/taro"])}(self,(o=>(()=>{"use strict";var t={6801:t=>{t.exports=o}},e={};function i(o){var l=e[o];if(void 0!==l)return l.exports;var r=e[o]={exports:{}};return t[o](r,r.exports,i),r.exports}i.n=o=>{var t=o&&o.__esModule?()=>o.default:()=>o;return i.d(t,{a:t}),t},i.d=(o,t)=>{for(var e in t)i.o(t,e)&&!i.o(o,e)&&Object.defineProperty(o,e,{enumerable:!0,get:t[e]})},i.o=(o,t)=>Object.prototype.hasOwnProperty.call(o,t),i.r=o=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(o,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(o,"__esModule",{value:!0})};var l={};return(()=>{i.r(l),i.d(l,{default:()=>t});var o=i(6801);function t(t){var e=t.env,i=t.data,l=t.inputs,r=t.outputs;e.runtime&&l.getWithPos((function(t){var l,n,d,u,a,v;if((null==t?void 0:t.from)&&(null==t?void 0:t.to)){var s="https://apis.map.qq.com/ws/direction/v1/driving/?key=".concat(null!==(n=null==e?void 0:e.apiKey)&&void 0!==n?n:"WDOBZ-7WZWL-NFJPE-EKBHS-PBEEK-U4FA5","&from=").concat(null===(d=null==t?void 0:t.from)||void 0===d?void 0:d.latitude,",").concat(null===(u=null==t?void 0:t.from)||void 0===u?void 0:u.longitude,"&to=").concat(null===(a=null==t?void 0:t.to)||void 0===a?void 0:a.latitude,",").concat(null===(v=null==t?void 0:t.to)||void 0===v?void 0:v.longitude,"&policy=TRIP,AVOID_HIGHWAY,NAV_POINT_FIRST");o.request({url:s,success:function(o){var e,l,n,d,u,a,v,s,c,f,p,g,y,h,m,b;if(200===o.statusCode&&0===o.data.status){var j=(null!==(e=o.data)&&void 0!==e?e:{}).result;if(Array.isArray(j.routes)){var P=j.routes.map((function(o){for(var t=[],e=2;e<o.polyline.length;e++)o.polyline[e]=o.polyline[e-2]+o.polyline[e]/1e6;for(var l=0;l<o.polyline.length/2;l++)t[l]={latitude:o.polyline[2*l],longitude:o.polyline[2*l+1]};return{points:t,width:i.width,color:i.color,dottedLine:i.dottedLine,arrowLine:i.arrowLine,borderColor:i.borderColor,borderWidth:i.borderWidth,distance:o.distance,duration:o.duration}})),w=[{id:0,width:null===(l=i.start)||void 0===l?void 0:l.width,height:null===(n=i.start)||void 0===n?void 0:n.height,iconPath:null===(d=i.start)||void 0===d?void 0:d.icon,latitude:null===(u=t.from)||void 0===u?void 0:u.latitude,longitude:null===(a=t.from)||void 0===a?void 0:a.longitude},{id:1,width:null===(v=i.end)||void 0===v?void 0:v.width,height:null===(s=i.end)||void 0===s?void 0:s.height,iconPath:null===(c=i.end)||void 0===c?void 0:c.icon,latitude:null===(f=t.to)||void 0===f?void 0:f.latitude,longitude:null===(p=t.to)||void 0===p?void 0:p.longitude}];null===(g=r.onSuccess)||void 0===g||g.call(r,{markers:w,polylines:P,autofit:i.autofit})}}else null===(y=r.onFail)||void 0===y||y.call(r,{errMsg:null!==(b=null!==(m=null===(h=o.data)||void 0===h?void 0:h.message)&&void 0!==m?m:o.errMsg)&&void 0!==b?b:"网络错误"})},fail:function(o){var t,e=o.errMsg;null===(t=r.onFail)||void 0===t||t.call(r,{errMsg:e})}})}else null===(l=r.onFail)||void 0===l||l.call(r,{errMsg:"不合法的起点和终点"})}))}})(),l})()));